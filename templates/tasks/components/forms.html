{% load i18n %}

{% csrf_token %}

{% if form.errors %}
  <ul class="list-unstyled">
    <li {% if form.errors|length > 1 %}class="mt-3"{% endif %}>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {{ form.errors }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    </li>
  </ul>
{% endif %}

<div class="d-grid gap-4">
  {% for field in form %}
    <div class="card card-body border-0 p-4 rounded-4">
      {% if field.widget_type == 'checkbox' or field.widget_type == 'radio' %}
        <div class="form-group">
          <div class="form-check">
            {{ field }}
            <label for="{{ field.id_for_label }}" class="form-check-label">
              {{ field.label }}
            </label>
          </div>
          {% if field.help_text %}
            <small class="text-muted">{{ field.help_text }}</small>
          {% endif %}
          <span class="badge bg-danger">{{ field.errors }}</span>
        </div>
      {% else %}
        {% if field.widget_type == 'clearablefile' %}
          <div class="form-group">
            <div class="form-label">{{ field.label_tag }}</div>
            {{ field }}
            {% if field.help_text %}<small class="text-muted">{{ field.help_text|safe }}</small>{% endif %}
          </div>
        {% else %}
          <div class="form-floating">
            {{ field }}
            {{ field.label_tag }}
            {% if field.help_text %}<small class="text-muted">{{ field.help_text|safe }}</small>{% endif %}
          </div>
        {% endif %}
      {% endif %}
    </div>
  {% endfor %}
</div>